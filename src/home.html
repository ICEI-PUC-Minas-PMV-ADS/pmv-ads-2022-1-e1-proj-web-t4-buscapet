<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>home</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

</head>

<body>
  <div class="wrapper">
    <div class="nav">
      <div id="start-menu">
        <button class="nav-menu-button">
          <i class="material-icons">menu</i>
        </button>
          <a>Busca Pet</a>
      </div>

      
      <button class="nav-menu-button">
        <i class="material-icons">group</i>
      </button>
    </div>
    <div class="page_header">
      <h1>Pets Encontrados</h1>

      <button class="button">
        Cadastrar um pet
      </button>

    </div>
    <div class="table_grid">
      <div class="table_header">
        <h1>Pets cadastrados recentementes</h1>
      <div id="table-icons">
        <button class="table-button"><i class="material-icons">search</i></button>
        <button class="table-button"><i class="material-icons">cloud</i></button>
        <button class="table-button"><i class="material-icons">print</i></button>
      </div>
    </div>
      <table id="teblePets">
        <tr>
          <th>id</th>
          <th>Espécie</th>
          <th>Tamanho</th>
          <th>Cor</th>
          <th>Observações</th>
          <th>ação</th>
        </tr>
       <tbody id="tbodyPets">
       </tbody>
      </table>

    </div>

  </div>

</body>

<script>

let petsEncontrados = []

petsEncontrados.push({
  id: 1,
  especie:'cachorro',
  tamanho:'grande',
  cor: 'caramelo',
  observacoes: 'sem indentificação'
 })

petsEncontrados.push({
  id: 2,
  especie:'gato',
  tamanho:'pequeno',
  cor: 'branco',
  observacoes: 'sem indentificação'
})  

petsEncontrados.push({
  id: 3,
  especie:'hamster',
  tamanho:'pequeno',
  cor: 'preto',
  observacoes: 'sem indentificação'
})  

localStorage.setItem("pets", JSON.stringify(petsEncontrados))

const pets = JSON.parse(localStorage.getItem('pets'))


  function updateTablePets(pets) {
    let tableBody = document.getElementById("tbodyPets");
    let newRow; 
    let newCell;

      tableBody.innerHTML = "";

      pets.map(linha => {
        newRow = document.createElement("tr");
        tableBody.appendChild(newRow);

        

        Object.values(linha).map(coluna => {
          newCell = document.createElement("td");
          newCell.textContent = coluna;
          newRow.appendChild(newCell);
        })


        div = document.createElement("div"); 
        div.setAttribute('class','btn-group');
        
        ['editar', 'consultar', 'deletar'].map(type => createButton({type: type, appendChildEl: div}))

        newRow.appendChild(div);
      })
  }

      const createButton = ({type: type, appendChildEl: div}) => {
          switch(type) {
            case 'editar':
              btn = document.createElement("button"); 
              btn.textContent = 'Editar';
              btn.setAttribute('style', ` background-color: black ; border: 1px solid #0553b3;`); 
              div.appendChild(btn);
              break;
            
              case 'consultar':
              btn = document.createElement("button"); 
              btn.textContent = 'Consultar';
              btn.setAttribute('style', ` background-color: #157347 ; border: 1px solid #0e643c;`); 
              div.appendChild(btn); 
              break;
          
            case 'deletar':
              btn = document.createElement("button"); 
              btn.textContent = 'Deletar';
              btn.setAttribute('style', ` background-color: #DC3545; border: 1px solid #a52c38;`); 
              div.appendChild(btn); 
              break;
          }

        return div;
      }



        

      
      
updateTablePets(pets)




</script>


</html>